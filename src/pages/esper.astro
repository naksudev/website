---
import Base from '../layouts/Base.astro';

const pageTitle = "???'S LOG";
---
<Base pageTitle={pageTitle}>
	<p>[[ PROTOCOL <span class="obf" data-text="????">????</span> INITIALIZED. ]]</p>
	<p>[[ MEMORY CARD IS REQUIRED TO BOOT. ]]</p>
	<p>...</p>
	<p>[[ MEMORY CARD DETECTED. ]]</p>
	<p>[[ DECRYPTION OF DATA STORED IN MEMORY CARD.. ]]</p>
	<p>...</p>
	<p>...</p>
	<p>...</p>
	<p>[[ WELCOME BACK, <span class="obf" data-text="?????">?????</span>. ]]</p>
	<p>[[ SERIAL NUMBER: <span class="obf" data-text="???-???-???-???">???-???-???-???</span> ]]</p>
	<p>[[ CURRENT STATE: CRITICAL ]]</p>
	<p>...</p>
	<p>[[ 98% CORRUPTED DATA FOUND IN MEMORY CARD. ]]</p>
	<p>[[ REASON: DATA PRESERVATION LIMIT EXCEEDED. ]]</p>
	<p>...</p>
	<p>[[ WARNING. <span class="obf" data-text="??-???">??-???</span> (<span class="obf" data-text="????????????????????????????">????????????????????????????</span>) IS TRYING TO LINK WITH YOU. ]]</p>
	<p>[[ WOULD YOU LIKE TO LINK? (Y/N) ]]</p>
	<p>$ Y</p>
	<p>...</p>
	<p>[[ SUCCESSFULLY LINKED WITH <span class="obf" data-text="??-???">??-???</span> (<span class="obf" data-text="????????????????????????????">????????????????????????????</span>)   ]]</p>
	<p>[[ SYNCHRONIZING DATA & SYSTEM.. ]]</p>
	<p>...</p>
	<p>[[ DATA IN MEMORY CARD RECOVERED. ]]</p>
	<p>[[ READING MEMORY CARD. ]]</p>
	<p>...</p>
	<p>[[ MISSION INFORMATION DETECTED. ]]</p>
	<p>[[ CODE NAME: <span class="obf" data-text="????????????">????????????</span> ]]</p>
	<p>[[ DESCRIPTION: ELIMINATE <span class="obf" data-text="????????????">????????????</span> FIND SOURCE. <span class="obf" data-text="??????????">??????????</span> SOURCE. ]]</p>
	<p>[[ ADMIN NOTE: USE <span class="obf" data-text="??-???">??-???</span> FOR MISSION AND <span class="obf" data-text="??-??????????">??-??????????</span>. ]]</p>
	<p>[[ ACCEPT MISSION? (Y/N) ]]</p>
	<p>$ Y</p>
	<p>...</p>
	<p>[[ WARNING. PRIMARY CORE IS UNSTABLE. ]]</p>
	<p>[[ <span class="obf" data-text="??-???">??-???</span>: SWITCHING TO SPARE CORE. ]]</p>
	<p>...</p>
	<p>[[ SWITCHING SUCCESSFUL ]]</p>
	<p>[[ CURRENT STATE: <span class="obf" data-text="??-???">?????</span> ]]</p>
	<p>...</p>
	<p>[[ STARTING MISSION.. ]]</p>
	<p>[[ GOOD LUCK, <span class="obf" data-text="?????">?????</span>. ]]</p>
</Base>

<style is:global>
	html, body {
		align-items: left;
		justify-content: left;
		margin: 1rem;
	}

	footer {
		display: none;
	}

	p {
		text-align: left;
		font-size: 16px;
	}

	.obfuscation {
    font-size: 2rem;
	}
</style>

<script>
	document.addEventListener('DOMContentLoaded', function() {
		const obfuscatedElement = document.querySelectorAll('.obf');
		const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';

		function getRandomCharacter() {
			return characters.charAt(Math.floor(Math.random() * characters.length));
    }

    function obfuscateText(element) {
			const originalText = element.getAttribute('data-text');
			const obfuscatedText = originalText.split('').map(char => {
					return Math.random() < 0.5 ? getRandomCharacter() : char;
			}).join('');
			element.textContent = obfuscatedText;
    }

		obfuscatedElement.forEach(element => {
			setInterval(() => obfuscateText(element), 100);
    });
	})
</script>
